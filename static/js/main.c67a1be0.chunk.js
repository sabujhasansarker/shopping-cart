(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{36:function(e,t,a){e.exports=a(62)},41:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),l=a.n(c),i=(a(41),a(5)),m=a(3),s=Object(n.createContext)(),o=function(){var e=Object(n.useContext)(s),t=e.quantity,a=e.isAutination,c=e.getUser,l=e.logout,m=e.user;return Object(n.useEffect)((function(){c()}),[]),r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("div",{className:"left"},r.a.createElement(i.b,{to:"/shopping-cart"},"Logo")),r.a.createElement("div",{className:"right"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/shopping-cart"},"Products")),m&&"sabujhasansarker@gmail.com"===m.email&&m.emailVerified&&r.a.createElement("li",null,r.a.createElement(i.b,{to:"/shopping-cart/dashboard"},"Dashboard")),a?r.a.createElement("li",null,r.a.createElement(i.b,{to:"/shopping-cart/login",onClick:function(){return l()}},"Logout")):r.a.createElement(n.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/shopping-cart/login"},"Login")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/shopping-cart/register"},"Register"))),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/shopping-cart/card"},r.a.createElement("img",{src:"https://img.icons8.com/plasticine/100/000000/add-shopping-cart.png",className:"cart-img",alt:""}),r.a.createElement("span",{className:"card-number"},t)))))))},u=function(){var e=Object(n.useContext)(s),t=e.items,a=e.cardItems,c=e.cards,l=e.setPrice;return r.a.createElement("div",{className:"product"},t.map((function(e,t){return r.a.createElement("div",{className:"card",key:t},r.a.createElement("img",{className:"product-img",src:e.image,alt:""}),r.a.createElement("div",{className:"content"},r.a.createElement(i.b,{to:"/shopping-cart/product-".concat(e.id),className:"name"},e.name),r.a.createElement("p",null,"$",e.price),r.a.createElement("div",{className:"button",onClick:function(){return a(c,e),void l()}},r.a.createElement("img",{src:"https://img.icons8.com/plasticine/100/000000/add-shopping-cart.png",alt:""}),"Add to cart")))})))},p=function(){var e=Object(n.useContext)(s),t=e.cards,a=e.cardItems,c=e.removeItem,l=e.quantity,m=e.price,o=e.checkOut,u=e.user;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"profile"},r.a.createElement("img",{className:"user-profile",src:u.photoURL,alt:u.name}),r.a.createElement("h4",{className:"user-name"},"Hello ",u.displayName," , ",r.a.createElement("br",null)," This is your cardItems"),!u.emailVerified&&r.a.createElement("p",{style:{color:"red"}},"Plz verified Your email")),r.a.createElement("div",{className:"carts-container"},t.length>0?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"carts"},t.map((function(e,n){return r.a.createElement("div",{className:"cart",key:n},r.a.createElement("img",{src:e.image,alt:""}),r.a.createElement("div",{className:"content"},r.a.createElement(i.b,{className:"name",to:"/shopping-cart/product-".concat(e.id)},e.name),r.a.createElement("p",{className:"action-container"},r.a.createElement("span",{className:"action",onClick:function(){return a(t,e,"+")}},"+"),r.a.createElement("span",{className:"quantity"},e.qn),r.a.createElement("span",{className:"action",onClick:function(){return a(t,e,"-")}},"-")),r.a.createElement("div",{className:"button",onClick:function(){return c(e)}},r.a.createElement("img",{src:"https://img.icons8.com/plasticine/100/000000/clear-shopping-cart.png",alt:""}),"Remove"),r.a.createElement("p",{className:"total-quantity single-qn"},"Quantity : ",r.a.createElement("span",null,e.qn)),r.a.createElement("p",{className:"single-price single-qn"},"Price : ",r.a.createElement("span",null,"$",e.price)),r.a.createElement("hr",null),r.a.createElement("p",{className:"price single-qn"},"Total Price : ",r.a.createElement("span",null,"$",e.qn*e.price))))}))),r.a.createElement("div",{className:"total"},r.a.createElement("h1",null,"Total"),r.a.createElement("hr",null),r.a.createElement("div",{className:"total-qn"},"Total Quantity : ",r.a.createElement("b",null,l)),r.a.createElement("div",{className:"total-price"},"Total Price : ",r.a.createElement("b",null,"$",m)),u.emailVerified&&r.a.createElement("div",{className:"button",onClick:function(){return o()}},r.a.createElement("img",{src:"https://img.icons8.com/plasticine/100/000000/shopping.png",alt:""}),"Checkout"))):r.a.createElement("h1",{className:"empty"},"Your cart is currently empty.")))},d=function(e){var t=e.match,a=Object(n.useContext)(s),c=a.items,l=a.cardItems,i=a.cards,m=a.setPrice,o=a.removeItem,u=i.find((function(e){return e.id===Number(t.params.id)})),p=u||c.find((function(e){return e.id===Number(t.params.id)}));return r.a.createElement("div",{className:"single-product"},r.a.createElement("div",{className:"card",key:p.id},r.a.createElement("img",{className:"product-img",src:p.image,alt:""}),r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,p.name),r.a.createElement("p",{className:"dec"},p.dec),r.a.createElement("p",{className:"price"},r.a.createElement("b",null,"Price : "),"$",p.price),r.a.createElement("p",{className:"action-container"},r.a.createElement("span",{className:"action",onClick:function(){return l(i,p,"+")}},"+"),r.a.createElement("span",{className:"quantity"},u?p.qn:0),r.a.createElement("span",{className:"action",onClick:function(){return l(i,p,"-")}},"-")),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"button",onClick:function(){return l(i,p),void m()}},r.a.createElement("img",{src:"https://img.icons8.com/plasticine/100/000000/add-shopping-cart.png",alt:""}),"Add to cart"),u&&r.a.createElement("div",{className:"button remove",onClick:function(){return o(p)}},r.a.createElement("img",{src:"https://img.icons8.com/plasticine/100/000000/clear-shopping-cart.png",alt:""}),"Remove")))))},E=a(13),f=a.n(E),g=a(17),b=a(14),h=a(2),v=a(9),N=a(33),O=a.n(N),j=a(21),y=a.n(j);y.a.initializeApp({apiKey:"AIzaSyD-ft5V9R9qLCoZpSCwFYgDhjYpa6HSZqs",authDomain:"fir-319ab.firebaseapp.com",databaseURL:"https://fir-319ab.firebaseio.com",projectId:"fir-319ab",storageBucket:"fir-319ab.appspot.com",messagingSenderId:"728792064123",appId:"1:728792064123:web:a9611443b0d159db5dc2de"});var C=y.a.auth(),w=y.a.database().ref("product"),k=y.a.storage(),x=function(){var e=Object(n.useContext)(s),t=e.getUser,a=e.isAutination,c=Object(n.useState)({name:"",email:"",password_1:"",password_2:""}),l=Object(v.a)(c,2),o=l[0],u=l[1],p=Object(n.useState)(null),d=Object(v.a)(p,2),E=d[0],N=d[1],j=o.name,y=o.email,w=o.password_1,k=o.password_2;if(a)return r.a.createElement(m.a,{to:"/shopping-cart"});var x=function(e){return u(Object(h.a)(Object(h.a)({},o),{},Object(b.a)({},e.target.name,e.target.value)))},S=function(){var e=Object(g.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=O.a.url(y,{s:"200",r:"x",d:"retro"},!0),w===k){e.next=5;break}return N("Password dose not match"),e.abrupt("return",A());case 5:return e.prev=5,e.next=8,C.createUserWithEmailAndPassword(y,w);case 8:C.currentUser.updateProfile({displayName:j,photoURL:n}),C.onAuthStateChanged((function(e){return e.sendEmailVerification()})),t(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),N(e.t0.message),A();case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){setTimeout((function(){N("")}),2e3)};return r.a.createElement("div",{className:"register form-container"},r.a.createElement("h1",null,"Register"),r.a.createElement("div",{className:"alert"},r.a.createElement("p",null,E)),r.a.createElement("form",{action:"",className:"form",onSubmit:function(e){return S(e)}},r.a.createElement("div",{className:"form-item"},r.a.createElement("label",{htmlFor:"name"},"Name : "),r.a.createElement("input",{value:j,onChange:function(e){return x(e)},type:"text",name:"name",placeholder:"Name"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("label",{htmlFor:"email"},"Email : "),r.a.createElement("input",{value:y,onChange:function(e){return x(e)},type:"email",name:"email",placeholder:"E-mail"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("label",{htmlFor:"password_1"},"Password :"),r.a.createElement("input",{value:w,onChange:function(e){return x(e)},type:"password",name:"password_1",placeholder:"Password"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("label",{htmlFor:"password_2"},"Confirm Password : "),r.a.createElement("input",{value:k,onChange:function(e){return x(e)},type:"password",name:"password_2",placeholder:"Password"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("input",{className:"btn",type:"submit",name:"submit",value:"register"}))),r.a.createElement("p",null,"If Your already register please"," ",r.a.createElement(i.b,{to:"/shopping-cart/login"},"login !")))},S=function(){var e=Object(n.useContext)(s),t=e.getUser,a=e.isAutination,c=Object(n.useState)({email:"",password_1:""}),l=Object(v.a)(c,2),o=l[0],u=l[1],p=Object(n.useState)(null),d=Object(v.a)(p,2),E=d[0],N=d[1],O=o.email,j=o.password_1;if(a)return r.a.createElement(m.a,{to:"/shopping-cart"});var y=function(e){return u(Object(h.a)(Object(h.a)({},o),{},Object(b.a)({},e.target.name,e.target.value)))},w=function(){var e=Object(g.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,C.signInWithEmailAndPassword(O,j);case 4:t(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),N(e.t0.message),k();case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){setTimeout((function(){N("")}),2e3)};return r.a.createElement("div",{className:"login form-container"},r.a.createElement("h1",null,"Login"),r.a.createElement("p",null,E),r.a.createElement("form",{action:"",className:"form",onSubmit:function(e){return w(e)}},r.a.createElement("div",{className:"form-item"},r.a.createElement("label",{htmlFor:"email"},"Email : "),r.a.createElement("input",{value:O,onChange:function(e){return y(e)},type:"email",name:"email",placeholder:"E-mail"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("label",{htmlFor:"password_1"},"Password : "),r.a.createElement("input",{value:j,onChange:function(e){return y(e)},type:"password",name:"password_1",placeholder:"Password"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("input",{className:"btn",type:"submit",name:"submit",value:"login"}))),r.a.createElement("p",null,"If no account please"," ",r.a.createElement(i.b,{to:"/shopping-cart/register"},"register !")))},A=function(){return r.a.createElement("div",{style:{background:"#FFFFFF",height:"100vh",width:"100%"}},r.a.createElement("img",{src:"https://i.pinimg.com/originals/b5/3a/b6/b53ab608718000227d5d9a752cbd5d5c.gif",alt:"",className:"preloader-img"}))},I=a(35),P=function(e){var t=e.component,a=Object(I.a)(e,["component"]),c=Object(n.useContext)(s).isAutination;return r.a.createElement(m.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/shopping-cart/login"})}}))},q=function(){var e=Object(n.useContext)(s).items;return r.a.createElement("div",{className:"remove"},r.a.createElement("h1",null,"Your all product"),r.a.createElement("table",{id:"students"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Image")),e.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,r.a.createElement("img",{src:e.image,alt:""})))})))))},T=function(){var e=Object(n.useContext)(s).getData,t=Object(n.useState)({name:"",price:"",dec:"",image:""}),a=Object(v.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(null),m=Object(v.a)(i,2),o=m[0],u=m[1],p=Object(n.useState)(null),d=Object(v.a)(p,2),E=d[0],N=d[1],O=c.name,j=c.price,y=c.dec,C=c.image,x=Object(n.useState)(!1),S=Object(v.a)(x,2),A=S[0],I=S[1],P=Object(n.useState)(1e3*Math.random()),T=Object(v.a)(P,2),R=T[0],F=(T[1],function(e){var t=e.target.files;t?(t=t[0],["image/png","image/jpeg"].includes(t.type)?t.size<2e6?(l(Object(h.a)(Object(h.a)({},c),{},{image:t})),u(t)):(N("maximum file size 2mb"),_()):(N("file type png/jpeg"),_())):l(Object(h.a)(Object(h.a)({},c),{},Object(b.a)({},e.target.name,e.target.value)))}),U=function(){var t=Object(g.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O&&j&&y&&C&&k.ref().child(o.name+R).put(o).on("state_changed",function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.bytesTransferred/a.totalBytes*100,console.log(n),!(n>=100)){t.next=9;break}return t.next=5,k.ref(o.name+R).getDownloadURL();case 5:r=t.sent,l(Object(h.a)(Object(h.a)({},c),{},{image:r})),I(!0),"string"===typeof C&&(I(!1),l({name:"",price:"",dec:"",image:""}),u(null),w.push().set(c),e());case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(){return setTimeout((function(){N()}),2e3)};return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"dashboard-container"},r.a.createElement("div",{className:"dashboard form-container"},r.a.createElement("p",{style:{color:"red"}},E),r.a.createElement("h1",null,"Create Your Product"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),O||j||y||C||(N("plz fill all input field "),_())}(e)}},r.a.createElement("div",{className:"form-item"},r.a.createElement("label",{htmlFor:"name"},"Name :"),r.a.createElement("input",{type:"text",name:"name",value:O,onChange:function(e){return F(e)}})),r.a.createElement("div",{className:"form-item"},r.a.createElement("label",{htmlFor:"price"},"Price :"),r.a.createElement("input",{type:"number",name:"price",value:j,onChange:function(e){return F(e)}})),r.a.createElement("div",{className:"form-item"},r.a.createElement("label",{htmlFor:"dec"},"Description :"),r.a.createElement("textarea",{name:"dec",value:y,onChange:function(e){return F(e)}})),r.a.createElement("div",{className:"form-item"},r.a.createElement("label",{htmlFor:"image"},"Image :"),r.a.createElement("input",{type:"file",name:"image",onChange:function(e){return F(e)}})),r.a.createElement("div",{className:"form-item"},r.a.createElement("input",{className:"btn",type:"submit",name:"submit",value:"Submit"})))),r.a.createElement("div",{className:"preview"},r.a.createElement("h3",null,"Preview your product after published "),o&&r.a.createElement("img",{src:URL.createObjectURL(o)}),O&&r.a.createElement("p",null,r.a.createElement("b",null,"Name : "),O),j&&r.a.createElement("p",null,r.a.createElement("b",null,"Price : "),"$",j),y&&r.a.createElement("p",null,r.a.createElement("b",null,"Description : "),y),!A&&C&&O&&j&&y&&r.a.createElement("div",{className:"button",onClick:function(){return U()}},"Submit your product"),A&&r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return U()}},"Yes"),r.a.createElement("button",{onClick:function(){return k.ref().child(o.name+R).delete(),void I(!1)}},"No")))),r.a.createElement(q,null))};var R=function(){var e=Object(n.useContext)(s),t=e.loading,a=e.getUser,c=e.user;return Object(n.useEffect)((function(){a()}),[]),r.a.createElement(i.a,null,t?r.a.createElement(A,null):r.a.createElement("div",{className:"App"},r.a.createElement(o,null),r.a.createElement("div",{className:"container"},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/shopping-cart",exact:!0,component:u}),r.a.createElement(m.b,{path:"/shopping-cart/register",exact:!0,component:x}),r.a.createElement(m.b,{path:"/shopping-cart/login",exact:!0,component:S}),r.a.createElement(P,{path:"/shopping-cart/card",exact:!0,component:p}),c?"sabujhasansarker@gmail.com"===c.email&&c.emailVerified&&r.a.createElement(P,{path:"/shopping-cart/dashboard",exact:!0,component:T}):r.a.createElement(P,{path:"/shopping-cart/dashboard",exact:!0,component:T}),r.a.createElement(m.b,{path:"/shopping-cart/product-:id",exact:!0,component:d})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(34),U=function(e,t){var a=t.type,n=t.payload;switch(a){case"GET_DATA":return Object(h.a)(Object(h.a)({},e),{},{items:n,loading:!1});case"CARD_ITEMS":return Object(h.a)(Object(h.a)({},e),{},{cards:n});case"REMOVE":return Object(h.a)(Object(h.a)({},e),{},{cards:e.cards.filter((function(e){return n.id!==e.id&&e}))});case"SAVE":localStorage.setItem("shoppingCard",JSON.stringify(e.cards));case"PRICE":return Object(h.a)(Object(h.a)({},e),{},{price:e.cards&&e.cards.reduce((function(e,t){return e+t.price*t.qn}),0),quantity:e.cards&&e.cards.reduce((function(e,t){return e+t.qn}),0)});case"CHECKOUT":return localStorage.setItem("shoppingCard",JSON.stringify([])),Object(h.a)(Object(h.a)({},e),{},{cards:[],price:null,quantity:0});case"GET_USER":return Object(h.a)(Object(h.a)({},e),{},{isAutination:!0,loading:!1,user:n});case"LOGOUT":return Object(h.a)(Object(h.a)({},e),{},{isAutination:!1,loading:!1});default:return e}},_=function(e){var t=e.children,a=Object(n.useReducer)(U,{items:[],loading:!0,cards:[],price:0,quantity:0,isAutination:!1,user:null}),c=Object(v.a)(a,2),l=c[0],i=c[1];Object(n.useEffect)((function(){o(),m()}),[]);var m=function(){var e=[];w.on("value",(function(t){t.forEach((function(t){var a=t.val();e.push(a)})),i({type:"GET_DATA",payload:e})}))},o=function(){i({type:"CARD_ITEMS",payload:JSON.parse(localStorage.getItem("shoppingCard"))}),u()},u=function(){i({type:"PRICE"})};return r.a.createElement(s.Provider,{value:{items:l.items,cards:l.cards,price:l.price,quantity:l.quantity,loading:l.loading,isAutination:l.isAutination,user:l.user,cardItems:function(e,t,a){var n=e&&e.find((function(e){return e.id===t.id}));n?("-"===a?n.qn>1?n.qn-=1:n.qn=1:n.qn+=1,e.filter((function(e){return e.id===t.id?n:e}))):i({type:"CARD_ITEMS",payload:e?[].concat(Object(F.a)(e),[t]):[t]}),i({type:"SAVE"})},setPrice:u,cardItemsRefresh:o,removeItem:function(e){i({type:"REMOVE",payload:e}),i({type:"SAVE"})},checkOut:function(){i({type:"CHECKOUT"})},getUser:function(){C.onAuthStateChanged((function(e){e?(e.providerData[0].emailVerified=e.emailVerified,i({type:"GET_USER",payload:e.providerData[0]})):i({type:"LOGOUT"})}))},logout:function(){C.signOut(),i({type:"LOGOUT"})},getData:m}},t)};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null,r.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.c67a1be0.chunk.js.map